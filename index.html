<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Gitar Ã–lÃ§me DeÄŸerlendirme</title>
    <style>
        :root {
            --primary: #2c3e50;
            --success: #27ae60;
            --danger: #c0392b;
            --warning: #f39c12;
            --light: #f8f9fa;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            background: #e9ecef; margin: 0; padding: 15px;
            display: flex; justify-content: center; align-items: flex-start;
            min-height: 100vh;
        }

        .quiz-card {
            background: white; width: 100%; max-width: 500px;
            padding: 25px; border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            position: relative;
            text-align: center;
        }

        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .type-badge { background: var(--primary); color: white; padding: 4px 10px; border-radius: 5px; font-size: 0.8rem; }
        
        #timer-box { font-weight: bold; color: var(--danger); font-size: 1.2rem; }

        #question-text {
            font-size: 1.1rem; font-weight: bold; color: #333;
            margin: 20px 0; line-height: 1.4; min-height: 60px;
        }

        .options-container { display: grid; gap: 10px; }

        button.option-btn {
            padding: 15px; border: 2px solid #dee2e6; border-radius: 10px;
            background: white !important; color: #333; font-size: 1rem; cursor: pointer;
            text-align: left; transition: 0.2s;
            -webkit-tap-highlight-color: transparent; outline: none;
        }

        button.option-btn.correct { background: var(--success) !important; color: white !important; border-color: var(--success); }
        button.option-btn.wrong { background: var(--danger) !important; color: white !important; border-color: var(--danger); }

        #feedback-msg {
            height: 30px; font-weight: bold; margin-top: 15px; font-size: 1.1rem;
        }

        .controls { margin-top: 20px; }
        .main-btn {
            width: 100%; padding: 15px; border: none; border-radius: 10px;
            font-weight: bold; font-size: 1.1rem; cursor: pointer; color: white;
            transition: 0.3s;
        }
        #start-btn { background: var(--success); }
        #next-btn { background: var(--primary); display: none; }
        #end-btn { background: #6c757d; margin-top: 10px; display: none; }
        #restart-btn { background: var(--primary); margin-top: 15px; }

        .screen { display: none; }
        .active { display: block; }
    </style>
</head>
<body>

<div class="quiz-card">
    <div id="start-screen" class="screen active">
        <h1>Gitar Bilgi YarÄ±ÅŸmasÄ±</h1>
        <p>Her soru iÃ§in 10 saniyen var!</p>
        <button id="start-btn" class="main-btn">OYUNU BAÅžLAT</button>
    </div>

    <div id="game-area" class="screen">
        <div class="header">
            <span id="type-badge" class="type-badge">Ãœnite 1</span>
            <div id="timer-box">SÃ¼re: <span id="time-left">10</span></div>
            <span id="progress">1/7</span>
        </div>
        <div id="question-text">Soru yÃ¼kleniyor...</div>
        <div id="options" class="options-container"></div>
        <div id="feedback-msg"></div>
        <div class="controls">
            <button id="next-btn" class="main-btn">SONRAKÄ° SORU</button>
            <button id="end-btn" class="main-btn">TESTÄ° BÄ°TÄ°R</button>
        </div>
    </div>

    <div id="result-area" class="screen">
        <h2>Test TamamlandÄ±!</h2>
        <p id="final-score" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);"></p>
        <button id="restart-btn" class="main-btn">YENÄ°DEN BAÅžLAT</button>
    </div>
</div>

<script>
    const SORU_BANKASI = [
        { type: "D/Y", q: "GitarÄ±n ses tablasÄ± (Ã¶n kapaÄŸÄ±) genellikle maun gibi sert aÄŸaÃ§lardan yapÄ±lÄ±r.", options: ["DoÄŸru", "YanlÄ±ÅŸ"], answer: "YanlÄ±ÅŸ" },
        { type: "D/Y", q: "Gitar notasyonunda boÅŸ teller '0' (sÄ±fÄ±r) rakamÄ±yla gÃ¶sterilir.", options: ["DoÄŸru", "YanlÄ±ÅŸ"], answer: "DoÄŸru" },
        { type: "D/Y", q: "SaÄŸ elin baÅŸ parmaÄŸÄ± notasyonda 'i' harfiyle gÃ¶sterilir.", options: ["DoÄŸru", "YanlÄ±ÅŸ"], answer: "YanlÄ±ÅŸ" },
        { type: "BOÅžLUK", q: "MÃ¼zikte bir oktav, Tampere Sistem'e gÃ¶re kaÃ§ eÅŸit aralÄ±ÄŸa bÃ¶lÃ¼nmÃ¼ÅŸtÃ¼r?", options: ["7", "12", "5", "8"], answer: "12" },
        { type: "TEST", q: "Gitar klavyesinde mi-fa ve si-do aralÄ±klarÄ± kaÃ§ ses mesafededir?", options: ["Tam Ses", "YarÄ±m Ses", "Ã‡eyrek Ses", "Ä°ki Ses"], answer: "YarÄ±m Ses" },
        { type: "TEST", q: "Akort ederken si notasÄ±na karÅŸÄ±lÄ±k gelen harf hangisidir?", options: ["A", "B", "C", "D"], answer: "B" },
        { type: "TEST", q: "BPM birimi neyi belirlemek iÃ§in kullanÄ±lÄ±r?", options: ["Ses YÃ¼ksekliÄŸi", "Eserin HÄ±zÄ±", "Tel KalÄ±nlÄ±ÄŸÄ±", "Nota AralÄ±ÄŸÄ±"], answer: "Eserin HÄ±zÄ±" }
    ];

    let currentIndex = 0;
    let score = 0;
    let timeLeft = 10;
    let timerInterval;

    const startScreen = document.getElementById('start-screen');
    const gameArea = document.getElementById('game-area');
    const resultArea = document.getElementById('result-area');
    const questionEl = document.getElementById('question-text');
    const optionsEl = document.getElementById('options');
    const feedbackEl = document.getElementById('feedback-msg');
    const timeLeftEl = document.getElementById('time-left');
    const nextBtn = document.getElementById('next-btn');
    const endBtn = document.getElementById('end-btn');
    const startBtn = document.getElementById('start-btn');
    const restartBtn = document.getElementById('restart-btn');

    function startTimer() {
        timeLeft = 10;
        timeLeftEl.innerText = timeLeft;
        timeLeftEl.parentElement.style.color = "var(--danger)";
        
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
            timeLeft--;
            timeLeftEl.innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                autoWrong(); // SÃ¼re bitince otomatik yanlÄ±ÅŸ say
            }
        }, 1000);
    }

    function autoWrong() {
        const correctAns = SORU_BANKASI[currentIndex].answer;
        checkAnswer(null, "SÃœRE BÄ°TTÄ°", correctAns);
    }

    function initGame() {
        // Havuzdan rastgele Ã§aÄŸÄ±rma (KarÄ±ÅŸtÄ±rma)
        SORU_BANKASI.sort(() => Math.random() - 0.5);
        currentIndex = 0;
        score = 0;
        
        startScreen.classList.remove('active');
        resultArea.classList.remove('active');
        gameArea.classList.add('active');
        
        loadQuestion();
    }

    function loadQuestion() {
        optionsEl.innerHTML = '';
        feedbackEl.innerText = '';
        nextBtn.style.display = 'none';
        endBtn.style.display = 'block';
        
        const soru = SORU_BANKASI[currentIndex];
        questionEl.innerText = soru.q;
        document.getElementById('progress').innerText = `${currentIndex + 1} / ${SORU_BANKASI.length}`;
        document.getElementById('type-badge').innerText = soru.type;

        soru.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.classList.add('option-btn');
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, opt, soru.answer);
            optionsEl.appendChild(btn);
        });

        startTimer();
    }

    function checkAnswer(btn, selected, correct) {
        clearInterval(timerInterval);
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.disabled = true);

        if (selected === correct) {
            if(btn) btn.classList.add('correct');
            feedbackEl.innerText = "Tebrikler! ðŸŽ‰";
            feedbackEl.style.color = "var(--success)";
            score++;
        } else {
            if(btn) btn.classList.add('wrong');
            feedbackEl.innerText = selected === "SÃœRE BÄ°TTÄ°" ? "SÃ¼re Bitti! â°" : "ÃœzgÃ¼nÃ¼m... ðŸ˜•";
            feedbackEl.style.color = "var(--danger)";
            
            // DoÄŸru olanÄ± gÃ¶ster
            buttons.forEach(b => {
                if (b.innerText === correct) b.classList.add('correct');
            });
        }
        
        nextBtn.style.display = 'block';
        endBtn.style.display = 'none';
    }

    nextBtn.onclick = () => {
        currentIndex++;
        if (currentIndex < SORU_BANKASI.length) {
            loadQuestion();
        } else {
            showResult();
        }
    };

    endBtn.onclick = showResult;

    function showResult() {
        clearInterval(timerInterval);
        gameArea.classList.remove('active');
        resultArea.classList.add('active');
        document.getElementById('final-score').innerText = `Toplam Skor: ${score} / ${SORU_BANKASI.length}`;
    }

    startBtn.onclick = initGame;
    restartBtn.onclick = () => {
        resultArea.classList.remove('active');
        startScreen.classList.add('active');
    };
</script>

</body>
</html>
