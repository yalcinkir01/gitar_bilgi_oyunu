<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Gitar Ölçme Değerlendirme</title>
    <style>
        :root {
            --primary: #2c3e50;
            --success: #27ae60;
            --danger: #c0392b;
            --light: #f8f9fa;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            background: #e9ecef; margin: 0; padding: 15px;
            display: flex; justify-content: center; align-items: flex-start;
            min-height: 100vh;
        }

        .quiz-card {
            background: white; width: 100%; max-width: 500px;
            padding: 25px; border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            position: relative;
        }

        .header { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .type-badge { 
            background: var(--primary); color: white; 
            padding: 4px 10px; border-radius: 5px; font-size: 0.8rem; 
        }

        #question-text {
            font-size: 1.1rem; font-weight: bold; color: #333;
            margin-bottom: 20px; line-height: 1.4;
        }

        .options-container { display: grid; gap: 10px; }

        button.option-btn {
            padding: 15px; border: 2px solid #dee2e6; border-radius: 10px;
            background: white; font-size: 1rem; cursor: pointer;
            text-align: left; transition: 0.2s;
            -webkit-tap-highlight-color: transparent; outline: none;
        }

        /* Renk Durumları */
        button.option-btn.correct { background: var(--success) !important; color: white; border-color: var(--success); }
        button.option-btn.wrong { background: var(--danger) !important; color: white; border-color: var(--danger); }

        .controls { margin-top: 20px; }
        #next-btn, #restart-btn {
            width: 100%; padding: 15px; border: none; border-radius: 10px;
            font-weight: bold; font-size: 1rem; cursor: pointer; display: none;
        }
        #next-btn { background: var(--primary); color: white; }
        #restart-btn { background: #6c757d; color: white; margin-top: 10px; }

        .score-box { text-align: center; display: none; }
    </style>
</head>
<body>

<div class="quiz-card">
    <div id="game-area">
        <div class="header">
            <span id="type-badge" class="type-badge">Ünite 1</span>
            <span id="progress">1/35</span>
        </div>
        <div id="question-text">Soru yükleniyor...</div>
        <div id="options" class="options-container"></div>
        <div class="controls">
            <button id="next-btn">Sonraki Soru</button>
        </div>
    </div>

    <div id="result-area" class="score-box">
        <h2>Test Tamamlandı!</h2>
        <p id="final-score" style="font-size: 1.5rem;"></p>
        <button id="restart-btn" style="display: block;">Yeniden Başlat</button>
    </div>
</div>

<script>
    const SORU_BANKASI = [
        { type: "D/Y", q: "Gitarın ses tablası (ön kapağı) genellikle maun gibi sert ağaçlardan yapılır.", options: ["Doğru", "Yanlış"], answer: "Yanlış" },
        { type: "D/Y", q: "Gitar notasyonunda boş teller '0' (sıfır) rakamıyla gösterilir.", options: ["Doğru", "Yanlış"], answer: "Doğru" },
        { type: "D/Y", q: "Sağ elin baş parmağı notasyonda 'i' harfiyle gösterilir.", options: ["Doğru", "Yanlış"], answer: "Yanlış" },
        { type: "BOŞLUK", q: "Müzikte bir oktav, Tampere Sistem'e göre kaç eşit aralığa bölünmüştür?", options: ["7", "12", "5", "8"], answer: "12" },
        { type: "TEST", q: "Gitar klavyesinde mi-fa ve si-do aralıkları kaç ses mesafededir?", options: ["Tam Ses", "Yarım Ses", "Çeyrek Ses", "İki Ses"], answer: "Yarım Ses" },
        { type: "TEST", q: "Akort ederken si notasına karşılık gelen harf hangisidir?", options: ["A", "B", "C", "D"], answer: "B" },
        { type: "TEST", q: "BPM birimi neyi belirlemek için kullanılır?", options: ["Ses Yüksekliği", "Eserin Hızı", "Tel Kalınlığı", "Nota Aralığı"], answer: "Eserin Hızı" }
        // Diğer soruları buraya aynı formatta ekleyebilirsin
    ];

    let currentIndex = 0;
    let score = 0;

    const gameArea = document.getElementById('game-area');
    const resultArea = document.getElementById('result-area');
    const questionEl = document.getElementById('question-text');
    const optionsEl = document.getElementById('options');
    const nextBtn = document.getElementById('next-btn');
    const progressEl = document.getElementById('progress');
    const finalScoreEl = document.getElementById('final-score');
    const restartBtn = document.getElementById('restart-btn');

    function initGame() {
        SORU_BANKASI.sort(() => Math.random() - 0.5);
        currentIndex = 0;
        score = 0;
        gameArea.style.display = 'block';
        resultArea.style.display = 'none';
        loadQuestion();
    }

    function loadQuestion() {
        // Her şeyi sıfırla (Mobilde renk takılmasını önler)
        optionsEl.innerHTML = '';
        nextBtn.style.display = 'none';
        
        const soru = SORU_BANKASI[currentIndex];
        questionEl.innerText = soru.q;
        progressEl.innerText = `${currentIndex + 1} / ${SORU_BANKASI.length}`;

        soru.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.classList.add('option-btn');
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, opt, soru.answer);
            optionsEl.appendChild(btn);
        });
    }

    function checkAnswer(btn, selected, correct) {
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.disabled = true); // Tekrar tıklamayı engelle

        if (selected === correct) {
            btn.classList.add('correct');
            score++;
        } else {
            btn.classList.add('wrong');
            // Doğru cevabı her zaman göster
            buttons.forEach(b => {
                if (b.innerText === correct) b.classList.add('correct');
            });
        }
        nextBtn.style.display = 'block';
    }

    nextBtn.onclick = () => {
        currentIndex++;
        if (currentIndex < SORU_BANKASI.length) {
            loadQuestion();
        } else {
            showResult();
        }
    };

    function showResult() {
        gameArea.style.display = 'none';
        resultArea.style.display = 'block';
        finalScoreEl.innerText = `Skor: ${score} / ${SORU_BANKASI.length}`;
    }

    restartBtn.onclick = initGame;

    // Oyunu başlat
    initGame();
</script>

</body>
</html>
