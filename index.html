<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilgi Yarışması</title>
    <style>
        :root {
            --primary: #3498db;
            --success: #2ecc71;
            --danger: #e74c3c;
            --light: #ecf0f1;
        }

        body { font-family: sans-serif; display: flex; justify-content: center; padding: 20px; background: #f4f4f4; }
        .quiz-container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); width: 100%; max-width: 500px; }
        
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        
        button {
            padding: 15px;
            border: 2px solid var(--primary);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
            /* Mobildeki mavi tıklama gölgesini ve takılmaları önlemek için: */
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }

        /* Doğru Cevap Stili */
        button.dogru {
            background-color: var(--success) !important;
            color: white;
            border-color: var(--success);
        }

        /* Yanlış Cevap Stili */
        button.yanlis {
            background-color: var(--danger) !important;
            color: white;
            border-color: var(--danger);
        }

        button:disabled { cursor: not-allowed; }
        
        #next-btn { 
            width: 100%; margin-top: 20px; padding: 10px; 
            background: var(--primary); color: white; border: none; display: none; 
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <div id="question">Soru buraya gelecek?</div>
    <div id="answer-buttons" class="btn-grid">
        </div>
    <button id="next-btn">Sonraki Soru</button>
</div>

<script>
    const questionElement = document.getElementById('question');
    const answerButtonsElement = document.getElementById('answer-buttons');
    const nextButton = document.getElementById('next-btn');

    let questions = [
        { q: "Gökyüzü ne renktir?", a: [ {t: "Mavi", c: true}, {t: "Yeşil", c: false}, {t: "Kırmızı", c: false}, {t: "Sarı", c: false} ] },
        { q: "2 + 2 kaçtır?", a: [ {t: "3", c: false}, {t: "4", c: true}, {t: "5", c: false}, {t: "22", c: false} ] }
    ];

    let currentQuestionIndex = 0;

    function startGame() {
        currentQuestionIndex = 0;
        showQuestion();
    }

    function showQuestion() {
        durumuSifirla(); // Önceki sorudan kalan renkleri temizle!
        let currentQuestion = questions[currentQuestionIndex];
        questionElement.innerText = currentQuestion.q;

        currentQuestion.a.forEach(answer => {
            const button = document.createElement('button');
            button.innerText = answer.t;
            if (answer.c) button.dataset.correct = answer.c; // Doğru cevabı işaretle
            button.addEventListener('click', selectAnswer);
            answerButtonsElement.appendChild(button);
        });
    }

    function durumuSifirla() {
        nextButton.style.display = 'none';
        while (answerButtonsElement.firstChild) {
            answerButtonsElement.removeChild(answerButtonsElement.firstChild);
        }
        // Mobildeki "kırmızı kalma" sorununu çözen esas kısım burasıdır.
        // Butonlar her seferinde silinip yeniden oluşturulduğu için eski classlar kalmaz.
    }

    function selectAnswer(e) {
        const selectedButton = e.target;
        const isCorrect = selectedButton.dataset.correct === "true";

        // 1. Tıklanan butonu renklendir
        if (isCorrect) {
            selectedButton.classList.add('dogru');
        } else {
            selectedButton.classList.add('yanlis');
        }

        // 2. Doğru cevabın neden gösterilmediği sorusunun çözümü:
        // Kullanıcı yanlış bilse bile tüm butonları kontrol et ve doğru olanı göster
        Array.from(answerButtonsElement.children).forEach(button => {
            if (button.dataset.correct === "true") {
                button.classList.add('dogru'); // Her durumda doğru cevabı yeşil yap
            }
            button.disabled = true; // Tekrar tıklanmasın
        });

        if (questions.length > currentQuestionIndex + 1) {
            nextButton.style.display = 'block';
        } else {
            nextButton.innerText = "Yeniden Başlat";
            nextButton.style.display = 'block';
        }
    }

    nextButton.addEventListener('click', () => {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            showQuestion();
        } else {
            startGame();
        }
    });

    startGame();
</script>

</body>
</html>
